<ion-content>
  <div class="m-t-3">
    <ion-title>Tenancy Management</ion-title>
  </div>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed" (click)="addTenancyModal()">
    <ion-fab-button>
      <ion-icon name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-segment [(ngModel)]="links" (ionChange)="segmentChanged($event)" class="tab">
    <ion-segment-button value="current">
      <ion-label>Current Tenancy</ion-label>
    </ion-segment-button>
    <ion-segment-button value="expired">
      <ion-label>Expired Tenancy</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="!expiredTab">
    <div>
      <ion-card *ngFor="let d of currentTenancy">
        <ion-card-header>
          <div class="top">
            <ion-avatar class="avatar">
              <img [src]="d.user_pic">
            </ion-avatar>
          </div>
          <ion-card-title>{{ d.username }}</ion-card-title>
          <hr>
          <ion-card-subtitle>{{ d.location }}</ion-card-subtitle>
          <ion-card-title>{{ d.price | currency:'EUR':'symbol':'4.2-2' }}</ion-card-title>
          <ion-card-subtitle>{{ d.address }}
          </ion-card-subtitle>
          <div class="add-images">
            <div class="doc">Documents</div>
            <ion-grid *ngFor="let d of d.files; let i = index">
              <ion-row>
                <ion-col>
                  {{ d.name }}
                </ion-col>
                <ion-col [size]="3">
                    <ion-icon name="download-outline" style="font-size: large;" (click)="download(d.url, d.name)"></ion-icon>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </ion-card-header>
      </ion-card>
    </div>
  </div>

  <div *ngIf="expiredTab">
    <div>
      <ion-card *ngFor="let d of expiredTenancy">
        <ion-card-header>
          <div class="top">
            <ion-avatar class="avatar">
              <img [src]="d.user_pic">
            </ion-avatar>
          </div>
          <ion-card-title>{{ d.username }}</ion-card-title>
          <hr>
          <ion-card-subtitle>{{ d.location }}</ion-card-subtitle>
          <ion-card-title>{{ d.price | currency:'EUR':'symbol':'4.2-2' }}</ion-card-title>
          <ion-card-subtitle>{{ d.address }}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
    </div>
  </div>


</ion-content> 